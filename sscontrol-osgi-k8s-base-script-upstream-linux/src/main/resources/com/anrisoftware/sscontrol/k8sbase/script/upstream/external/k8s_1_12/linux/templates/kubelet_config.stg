kubeletConfig(parent, vars) ::= <<
# auto-generated from robobee-run
[Service]
Environment="KUBELET_ROBOBEE_ARGS=<kubeletArguments(parent, vars)>"
ExecStart=
ExecStart=/usr/bin/kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_CONFIG_ARGS $KUBELET_KUBEADM_ARGS $KUBELET_EXTRA_ARGS $KUBELET_ROBOBEE_ARGS

>>

kubeletArguments(parent, vars) ::= <%
--fail-swap-on=<parent.failSwapOn> --read-only-port=<parent.service.kubelet.readOnlyPort>
<nodeLabels(parent, vars)>
<nodeTaints(parent, vars)>
<nodeIp(parent, vars)>
%>

nodeLabels(parent, vars) ::= <%
<if(parent.haveLabels)> --node-labels=<parent.nodeLabels;separator=","><endif>
%>

nodeTaints(parent, vars) ::= <%
<if(parent.haveTaints)> --register-with-taints=<parent.nodeTaints;separator=","><endif>
%>

nodeIp(parent, vars) ::= <%
<if(parent.service.kubelet.address)> --node-ip=<parent.service.kubelet.address><endif>
%>
